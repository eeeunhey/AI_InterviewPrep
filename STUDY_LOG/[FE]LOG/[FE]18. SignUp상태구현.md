### SignUp ì—ì„œ ì‚¬ìš©ì ìƒíƒœ êµ¬í˜„

1. SignUpì—ì„œ 
  const { updateUser } = useContext(UserContext);
  ìœ ì € ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤

2. SignUp API í˜¸ì¶œ try-catch ì‘ì„±

---

## ì „ì²´ ì½”ë“œ

```javascript
// íšŒì›ê°€ì… API í˜¸ì¶œ
try {
  // ì´ë¯¸ì§€ê°€ ìˆì„ ê²½ìš° ì—…ë¡œë“œ
  if (profilePic) {
    const imgUploadRes = await uploadImage(profilePic);
    profileImageUrl = imgUploadRes.imageUrl || "";
  }

  const response = await axiosInstance.post(API_PATHS.AUTH.REGISTER, {
    name: fullName,
    email,
    password,
    profileImageUrl,
  });

  const { token } = response.data;

  if (token) {
    localStorage.setItem("token", token);
    updateUser(response.data);
    navigate("/dashboard");
  }

} catch (error) {
  if (error.response && error.response.data.message) {
    setError(error.response.data.massage);
  } else {
    setError("ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì£„ì†¡í•˜ì§€ë§Œ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”");
  }
}
```

---

## 1ï¸âƒ£ try \~ catch

```javascript
try {
  // (ì„±ê³µ ì‹œ ì‹¤í–‰í•  ì½”ë“œë“¤)
} catch (error) {
  // (ì‹¤íŒ¨ ì‹œ ì‹¤í–‰í•  ì½”ë“œë“¤)
}
```

---

## 2ï¸âƒ£ ì´ë¯¸ì§€ ì—…ë¡œë“œ (ì„ íƒ ì‚¬í•­)

```javascript
if (profilePic) {
  const imgUploadRes = await uploadImage(profilePic);
  profileImageUrl = imgUploadRes.imageUrl || "";
}
```

* `if (profilePic)` â†’ ì‚¬ìš©ìê°€ í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ì„ íƒí–ˆëŠ”ì§€ í™•ì¸.
* ìˆìœ¼ë©´ `uploadImage(profilePic)` í˜¸ì¶œ â†’ ì„œë²„ì— ì´ë¯¸ì§€ ì—…ë¡œë“œ.
* ì„œë²„ê°€ `imageUrl`ì„ ëŒë ¤ì£¼ë©´ ê·¸ ê°’ì„ `profileImageUrl`ì— ì €ì¥.
* ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´(`""`).

ğŸ‘‰ ì¦‰, **í”„ë¡œí•„ ì‚¬ì§„ì´ ìˆì„ ë•Œë§Œ ì—…ë¡œë“œ**í•©ë‹ˆë‹¤.
    /utils/uploadImage.js ì— ì—…ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„ [FE]19. uploadImageêµ¬í˜„.md

---

## 3ï¸âƒ£ íšŒì›ê°€ì… API í˜¸ì¶œ

```javascript
const response = await axiosInstance.post(API_PATHS.AUTH.REGISTER, {
  name: fullName,
  email,
  password,
  profileImageUrl,
});
```

* `axiosInstance.post` â†’ íšŒì›ê°€ì… API ì£¼ì†Œë¡œ ë°ì´í„°ë¥¼ ë³´ëƒ„.
* ë³´ë‚¸ ë°ì´í„°:

  * `name`: ì´ë¦„
  * `email`: ì´ë©”ì¼
  * `password`: ë¹„ë°€ë²ˆí˜¸
  * `profileImageUrl`: í”„ë¡œí•„ ì´ë¯¸ì§€ ì£¼ì†Œ(ìˆìœ¼ë©´ í¬í•¨, ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´)

---

## 4ï¸âƒ£ ì„œë²„ ì‘ë‹µì—ì„œ í† í° êº¼ë‚´ê¸°

```javascript
const { token } = response.data;
```

* ì„œë²„ê°€ íšŒì›ê°€ì… ì„±ê³µ ì‹œ `token`ì„ ì¤ë‹ˆë‹¤.
* ì´ `token`ì€ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ë° ì“°ì´ëŠ” ì¸ì¦ ì¦ì„œ

---

## 5ï¸âƒ£ ë¡œê·¸ì¸ ì„±ê³µ ì²˜ë¦¬

```javascript
if (token) {
  localStorage.setItem("token", token);  // ë¸Œë¼ìš°ì €ì— í† í° ì €ì¥
  updateUser(response.data);             // Context ì—…ë°ì´íŠ¸ (ì „ì—­ ë¡œê·¸ì¸ ìƒíƒœ ë°˜ì˜)
  navigate("/dashboard");                // ëŒ€ì‹œë³´ë“œ í™”ë©´ìœ¼ë¡œ ì´ë™
}
```

* í† í°ì„ `localStorage`ì— ì €ì¥ â†’ ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€.
* `updateUser` í˜¸ì¶œ â†’ Contextì— ë¡œê·¸ì¸ ì •ë³´ ì €ì¥.
* `navigate("/dashboard")` â†’ íšŒì›ê°€ì… í›„ ë°”ë¡œ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ë¡œ ì´ë™.

---

## 6ï¸âƒ£ ì‹¤íŒ¨ ì²˜ë¦¬ (catch ë¸”ëŸ­)

```javascript
catch (error) {
  if (error.response && error.response.data.message) {
    setError(error.response.data.massage);
  } else {
    setError("ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì£„ì†¡í•˜ì§€ë§Œ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”");
  }
}
```

* ì„œë²„ê°€ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ëŒë ¤ì¤¬ë‹¤ë©´ â†’ ê·¸ëŒ€ë¡œ í™”ë©´ì— ë³´ì—¬ì¤Œ.
* ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ â†’ â€œë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤â€ë¼ëŠ” ê¸°ë³¸ ë¬¸êµ¬ ë³´ì—¬ì¤Œ.
* (ì£¼ì˜: `massage`ëŠ” ì˜¤íƒ€ â†’ `message`ë¡œ ê³ ì³ì•¼ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤ âœ…)

---

## âœ¨ í•œ ì¤„ ìš”ì•½

ì´ ì½”ë“œëŠ” **íšŒì›ê°€ì… ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì‹¤í–‰ë˜ëŠ” ë¡œì§**ìœ¼ë¡œ,

1. í”„ë¡œí•„ ì‚¬ì§„ì´ ìˆìœ¼ë©´ ì—…ë¡œë“œ,
2. ì´ë¦„/ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸/ì‚¬ì§„ ì£¼ì†Œë¥¼ ì„œë²„ì— ì „ë‹¬,
3. ì„±ê³µ ì‹œ í† í° ì €ì¥ + ë¡œê·¸ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ + ëŒ€ì‹œë³´ë“œ ì´ë™,
4. ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ.

---


