이 코드는 로그인 완료 시 상단바에 사용자 정보를 표시하는 기능이다

🟢 컴포넌트 실행 흐름
ProfileInfoCard 컴포넌트 실행
        │
        ▼
UserContext에서 user, clearUser 가져오기
        │
        ▼
useNavigate() 준비 (페이지 이동 기능)
        │
        ▼
안전하게 user 정보 꺼내기
  - 이름(name) : user?.name || "Guest"
  - 프로필 이미지(profileImage) : user?.profileImageUrl || 기본 이미지
        │
        ▼
화면에 UI 렌더링
  ┌─────────────────────────────────┐
  │   [프로필 사진] [이름] [Logout 버튼] │
  └─────────────────────────────────┘


🟡 Logout 버튼 클릭 시 흐름
[사용자 Logout 버튼 클릭]
        │
        ▼
handleLogout 함수 실행
        │
        ├── localStorage.clear()
        │       → 브라우저에 저장된 로그인 정보 삭제
        │
        ├── clearUser()
        │       → UserContext 안의 user 값 초기화
        │
        └── navigate("/")
                → 메인 페이지("/")로 이동




// React와 필요한 기능 불러오기
import React, { useContext } from "react";
import { useNavigate } from "react-router-dom"; // 페이지 이동 기능
import { UserContext } from "../../context/userContext"; // 사용자 정보를 담아둔 Context

// 사용자 프로필과 로그아웃 버튼을 보여주는 작은 카드 컴포넌트
const ProfileInfoCard = () => {
  /**
   * UserContext 안에는 로그인한 사용자의 정보(user)와
   * 로그아웃 시 user 값을 비워주는 clearUser 함수가 들어있음
   * useContext(UserContext) → 현재 Context 안에 저장된 값들을 불러오는 역할
   */
  const { user, clearUser } = useContext(UserContext);

  /**
   * useNavigate는 react-router-dom에서 제공하는 함수로,
   * 코드에서 직접 특정 페이지로 이동할 수 있게 해줌
   * 예: navigate("/") → 메인페이지로 이동
   */
  const navigate = useNavigate();

  /**
   * 로그아웃 버튼을 눌렀을 때 실행되는 함수
   * 1) localStorage.clear() : 브라우저에 저장된 로그인 토큰/데이터 모두 삭제
   * 2) clearUser() : Context 안의 사용자 정보(user)를 초기화
   * 3) navigate("/") : 홈페이지("/")로 이동
   */
  const handleLogout = () => {
    localStorage.clear();
    clearUser();
    navigate("/");
  };

  /**
   * 안전하게 사용자 정보를 꺼내는 처리
   * - user가 아직 없는 경우(로그인 안 한 상태) 대비
   * - ?. : 옵셔널 체이닝 (값이 없으면 undefined 반환)
   * - || "Guest" : 값이 없을 경우 "Guest"라는 기본값 표시
   */
  const name = user?.name || "Guest";
  const profileImage =
    user?.profileImageUrl || // 일반적으로 소문자로 저장한 경우
    user?.ProfileImageUrl || // 혹시 대문자로 저장한 경우
    "https://via.placeholder.com/44?text=U"; // 둘 다 없으면 기본 이미지

  // 실제 화면에 보여질 부분
  return (
    <div className="flex items-center">
      {/* 사용자 프로필 이미지 */}
      <img
        src={profileImage} // 위에서 정한 이미지 주소
        alt={`${name} profile`} // 접근성(스크린리더용 텍스트)
        className="w-11 h-11 bg-gray-300 rounded-full mr-3 object-cover"
      />

      {/* 사용자 이름 + 로그아웃 버튼 */}
      <div>
        {/* 사용자 이름 */}
        <div className="text-[15px] text-black font-bold leading-5">
          {name}
        </div>

        {/* 로그아웃 버튼 */}
        <button
          type="button"
          className="text-amber-600 text-sm font-semibold cursor-pointer hover:underline"
          onClick={handleLogout} // 버튼 클릭 시 handleLogout 실행
        >
          Logout
        </button>
      </div>
    </div>
  );
};

export default ProfileInfoCard;
