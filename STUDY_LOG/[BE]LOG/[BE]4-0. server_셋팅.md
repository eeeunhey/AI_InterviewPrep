1) 환경 변수 로드 + 필수 모듈 import

    1) .env 로드
    require("dotenv").config();

    2) 외부 모듈
    const express = require("express");
    const cors = require("cors");
    const path = require("path");          // 파일/디렉토리 경로 다룰 때 사용
     (선택) 요청 로깅이 필요하면 다음 줄을 쓰세요:
     const morgan = require("morgan");

    3) 내부 모듈
    const connectDB = require("./config/db");

    4) 라우트 모듈 불러오기 
    const authRoutes = require("./routes/authRoutes");
    const sessionRoutes = require("./routes/sessionRoutes");
    const questionRoutes = require("./routes/questionRoutes");

    .env를 최상단에서 한 번만 로드해야 아래에서 process.env.*가 제대로 읽음
    path는 /uploads 같은 정적 폴더 경로 만들 때 필요
    라우트 모듈을 실제 파일에서 require로 불러와야 app.use("/api/...")가 동


2) 앱 생성
    const app = express();
    Express 서버 인스턴스를 하나 생성합니다. app은 서버 본체

3) 공통 미들웨어
    JSON 바디 파싱 (클라이언트에서 보내는 JSON을 req.body로 읽기 위함)
    app.use(express.json());

    // CORS 설정 (개발 중이라면 임시로 * 허용, 배포 시에는 도메인 제한 권장)
    app.use(
    cors({
        origin: "*", // 운영에서는 process.env.FRONTEND_URL 로 제한 권장
        methods: ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"],
        allowedHeaders: ["Content-Type", "Authorization"],
        credentials: false, // 쿠키를 쓰면 true
    })
    );

4) DB 연결
connectDB();
    MongoDB(Atlas/로컬)에 연결을 시도합니다.
    실패하면 콘솔에 에러가 뜹니다(이전 메시지에서 안내한 bad auth는 DB 사용자/비번/URI를 점검).

5) 정적 파일 제공(/uploads)
    app.use("/uploads", express.static(path.join(__dirname, "uploads")));

    서버의 ./uploads 폴더에 저장된 파일을 URL로 접근 가능하게 해줍니다.
    예: http://localhost:5000/uploads/파일명.jpg
    폴더가 실제로 존재해야 합니다. (git에는 .gitkeep만 올려 폴더 유지 추천)


6) 라우트 등록
// API 라우트 (중복 없이 한 번씩만 등록!)
app.use("/api/auth", authRoutes);
app.use("/api/session", sessionRoutes);
app.use("/api/questions", questionRoutes);
app.use("/api/ai/generate-questions", protect, generateInterviewQuestions);
app.use("/api/ai/generate-explanation", protect, generateConceptExplanation);

라우트 코드 작성 
routes/authRoutes.js